<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>UmaUma Splash Final</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            min-height: 100vh;
            background-color: #FFFDF5;
        }

        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: 'Pretendard', sans-serif;
            overflow: hidden;
            position: relative;
            -webkit-text-size-adjust: 100%;
        }

        .splash-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        svg { width: 280px; height: 280px; }

        .kanji-stroke {
            fill: none; stroke: #333;
            stroke-width: 16;
            stroke-linecap: round;
            stroke-linejoin: round;
            opacity: 1;
        }

        #actor-group {
            transform-origin: 0 0;
            transform: translate(120px, 120px);
            /* 전체 애니메이션 2.3초로 설정 (싱크 최적화) */
            animation:
                syncWritingAction 2.3s forwards,
                softJellyBounce 1.2s infinite 2.3s;
        }

        /* 타이밍 계산 (Total 2.3s):
           0.0s ~ 0.2s: 이동 (시작점으로)
           0.2s ~ 0.4s: 1획 긋기 (잉크 0.2s 시작)
           0.4s ~ 0.6s: 이동
           0.6s ~ 0.9s: 2획 긋기 (잉크 0.6s 시작)
           0.9s ~ 1.1s: 이동
           1.1s ~ 1.5s: 3획 긋기 (잉크 1.1s 시작)
           1.5s ~ 1.7s: 이동
           1.7s ~ 2.1s: 4획 긋기 (잉크 1.7s 시작)
        */

        @keyframes syncWritingAction {
            /* [1획 준비] */
            0% { transform: translate(120px, 120px) scale(1, 1); }
            8% { transform: translate(120px, 35px) scale(1.1, 0.9); animation-timing-function: cubic-bezier(0.2, 0, 0.4, 1); }
            /* [1획 긋기] 8%~17% */
            17% { transform: translate(120px, 75px) scale(1, 1); }

            /* [2획 준비] */
            18% { transform: translate(120px, 75px) scale(0.95, 1.05); }
            25% { transform: translate(50px, 85px) scale(1.15, 0.85); animation-timing-function: ease-out; }
            /* [2획 긋기] 26%~39% */
            39% { transform: translate(190px, 85px) scale(1, 1); }

            /* [3획 준비] */
            40% { transform: translate(190px, 85px) scale(0.9, 1.1); }
            47% { transform: translate(160px, 85px) scale(1.1, 0.9); animation-timing-function: ease-out; }
            /* [3획 긋기] 48%~65% */
            65% { transform: translate(55px, 190px) scale(1, 1); }

            /* [4획 준비] */
            66% { transform: translate(55px, 190px) scale(0.9, 1.1); }
            73% { transform: translate(80px, 85px) scale(1.1, 0.9); animation-timing-function: ease-out; }
            /* [4획 긋기] 74%~91% */
            91% { transform: translate(205px, 190px) scale(1, 1); }

            /* [마무리 자세] */
            100% { transform: translate(205px, 190px) scale(1, 1); }
        }

        @keyframes softJellyBounce {
            0% { transform: translate(205px, 190px) scale(1, 1); }
            20% { transform: translate(205px, 195px) scale(1.15, 0.85); }
            50% { transform: translate(205px, 140px) scale(0.9, 1.1); }
            75% { transform: translate(205px, 195px) scale(1.1, 0.9); }
            100% { transform: translate(205px, 190px) scale(1, 1); }
        }

        @keyframes fadeOutEye { from { opacity: 1; } to { opacity: 0; } }
        @keyframes fadeInEye { from { opacity: 0; } to { opacity: 1; } }

        #normal-eyes { animation: fadeOutEye 0.3s ease-in-out 2.3s forwards; }
        #smiling-eyes { opacity: 0; animation: fadeInEye 0.3s ease-in-out 2.3s forwards; }
        .smile-stroke { fill: none; stroke: #3E2723; stroke-width: 1.5; stroke-linecap: round; }

        /* --- 잉크 타이밍 (붓 움직임과 1:1 매칭) --- */
        @keyframes drawLine { to { stroke-dashoffset: 0; } }

        /* 붓이 도착하는 8%(0.18s) 직후인 0.2s에 잉크 시작 */
        #s1 { stroke-dasharray: 40; stroke-dashoffset: 40; animation: drawLine 0.2s linear forwards 0.2s; }

        /* 붓이 도착하는 25%(0.57s) 직후인 0.6s에 잉크 시작 */
        #s2 { stroke-dasharray: 140; stroke-dashoffset: 140; animation: drawLine 0.3s linear forwards 0.6s; }

        /* 붓이 도착하는 47%(1.08s) 직후인 1.1s에 잉크 시작 */
        #s3 { stroke-dasharray: 160; stroke-dashoffset: 160; animation: drawLine 0.4s linear forwards 1.1s; }

        /* 붓이 도착하는 73%(1.67s) 직후인 1.7s에 잉크 시작 */
        #s4 { stroke-dasharray: 180; stroke-dashoffset: 180; animation: drawLine 0.4s linear forwards 1.7s; }

        .title-box {
            margin-top: 10px;
            height: 50px;
            text-align: center;
        }
        .app-title {
            color: #8D6E63;
            font-size: 2.2rem;
            font-weight: 900;
            letter-spacing: -1px;
        }
    </style>
</head>
<body>

<div class="splash-container">
    <svg viewBox="0 -30 240 270">
        <circle cx="120" cy="120" r="100" fill="#FFECB3" opacity="0.4" />
        <g id="kanji-group">
            <path id="s1" d="M120 35 L120 75" class="kanji-stroke" />
            <path id="s2" d="M50 85 L190 85" class="kanji-stroke" />
            <path id="s3" d="M160 85 Q130 140 55 190" class="kanji-stroke" />
            <path id="s4" d="M80 85 Q110 140 205 190" class="kanji-stroke" />
        </g>

        <g id="actor-group">
            <g transform="rotate(-15)">
                <rect x="-4" y="-55" width="8" height="40" fill="#795548" rx="2" />
                <path d="M-5 -15 L5 -15 L0 0 Z" fill="#3E2723" />
            </g>
            <g transform="translate(-25, -45) rotate(-10)">
                 <ellipse cx="0" cy="10" rx="15" ry="18" fill="#EF5350" />
                <path d="M-10 -5 L-15 -20 L0 -10 Z" fill="#D32F2F" />
                <path d="M10 -5 L15 -20 L0 -10 Z" fill="#D32F2F" />
                <circle cx="0" cy="0" r="20" fill="#EF5350" />
                <ellipse cx="0" cy="5" rx="9" ry="7" fill="#FFCCBC" />
                <path d="M-3 5 Q0 8 3 5" fill="none" stroke="#5D4037" stroke-width="1.5" stroke-linecap="round" />

                <g id="normal-eyes">
                    <circle cx="-7" cy="-2" r="2" fill="#3E2723" />
                    <circle cx="7" cy="-2" r="2" fill="#3E2723" />
                </g>
                <g id="smiling-eyes">
                    <path d="M-9 -1 Q -7 -4 -5 -1" class="smile-stroke" />
                    <path d="M5 -1 Q 7 -4 9 -1" class="smile-stroke" />
                </g>

                <path d="M-5 -15 Q0 -25 5 -15" fill="none" stroke="#C62828" stroke-width="3" stroke-linecap="round"/>
            </g>
        </g>
    </svg>

    <div class="title-box">
        <div class="app-title">한자를 외워보마</div>
    </div>
</div>

</body>
</html>
